function M({view:E="dayGridMonth",locale:h="en",firstDay:m=1,events:R=[],eventContent:l=null,resourceLabelContent:s=null,selectable:T=!1,eventClickEnabled:p=!1,eventDragEnabled:i=!1,eventResizeEnabled:u=!1,noEventsClickEnabled:y=!1,dateSelectEnabled:c=!1,dateClickEnabled:D=!1,viewDidMountEnabled:f=!1,eventAllUpdatedEnabled:C=!1,dayMaxEvents:S=!1,moreLinkContent:v=null,resources:g=[],hasDateClickContextMenu:x=!1,hasDateSelectContextMenu:$=!1,hasEventClickContextMenu:k=!1,hasNoEventsClickContextMenu:b=!1,options:j={},dayHeaderFormat:o=null,slotLabelFormat:w=null}){return{calendarEl:null,init:async function(){this.calendarEl=this.$el;let n=this,t={view:E,resources:g,eventSources:[{events:(e,a,r)=>this.$wire.getEventsJs(e)}],locale:h,firstDay:m,dayMaxEvents:S,selectable:c,eventStartEditable:i,eventDurationEditable:u};o&&(t.dayHeaderFormat=o),w&&(t.slotLabelFormat=w),D&&(t.dateClick=e=>{x?n.$el.querySelector("[calendar-context-menu]").dispatchEvent(new CustomEvent("calendar--open-menu",{detail:{mountData:{date:e.date,dateStr:e.dateStr,allDay:e.allDay,view:e.view,resource:e.resource},jsEvent:e.jsEvent,dayEl:e.dayEl,context:"dateClick"}})):this.$wire.onDateClick({date:e.date,dateStr:e.dateStr,allDay:e.allDay,view:e.view,resource:e.resource})}),c&&(t.select=e=>{$?n.$el.querySelector("[calendar-context-menu]").dispatchEvent(new CustomEvent("calendar--open-menu",{detail:{mountData:{start:e.start,startStr:e.startStr,end:e.end,endStr:e.endStr,allDay:e.allDay,view:e.view,resource:e.resource},jsEvent:e.jsEvent,context:"dateSelect"}})):this.$wire.onDateSelect({start:e.start,startStr:e.startStr,end:e.end,endStr:e.endStr,allDay:e.allDay,view:e.view,resource:e.resource})}),l!==null&&(t.eventContent=e=>{let a=n.getEventContent(e);if(a!==void 0)return{html:a}}),v!==null&&(t.moreLinkContent=e=>({html:n.getMoreLinkContent(e)})),s!==null&&(t.resourceLabelContent=e=>{let a=n.getResourceLabelContent(e);if(a!==void 0)return{html:a}}),p&&(t.eventClick=e=>{if(e.event.extendedProps.url){let a=e.event.extendedProps.url_target??"_blank";window.open(e.event.extendedProps.url,a)}else k?n.$el.querySelector("[calendar-context-menu]").dispatchEvent(new CustomEvent("calendar--open-menu",{detail:{mountData:{event:e.event,view:e.view},jsEvent:e.jsEvent,context:"eventClick"}})):this.$wire.onEventClick({event:e.event,view:e.view})}),y&&(t.noEventsClick=e=>{b?n.$el.querySelector("[calendar-context-menu]").dispatchEvent(new CustomEvent("calendar--open-menu",{detail:{mountData:{view:e.view},jsEvent:e.jsEvent,context:"noEventsClick"}})):this.$wire.onNoEventsClick({view:e.view})}),t.eventResize=async e=>{let a=e.event.durationEditable,r=u;a!==void 0&&(r=a),r&&await this.$wire.onEventResize({timestamps:{start:new Date(e.event.start).getTime(),end:new Date(e.event.end).getTime()},event:e.event,oldEvent:e.oldEvent,endDelta:e.endDelta,view:e.view}).then(d=>{d===!1&&e.revert()})},t.eventDrop=async e=>{let a=e.event.startEditable,r=i;a!==void 0&&(r=a),r&&await this.$wire.onEventDrop({timestamps:{start:new Date(e.event.start).getTime(),end:new Date(e.event.end).getTime()},event:e.event,oldEvent:e.oldEvent,oldResource:e.oldResource,newResource:e.newResource,delta:e.delta,view:e.view}).then(d=>{d===!1&&e.revert()})},f&&(t.viewDidMount=e=>{this.$wire.onViewDidMount({view:e})}),C&&(t.eventAllUpdated=e=>{this.$wire.onEventAllUpdated({info:e})}),this.ec=new EventCalendar(this.$el.querySelector("div"),{...t,...j}),window.addEventListener("calendar--refresh",()=>{this.ec.refetchEvents()}),this.$wire.on("calendar--set",e=>{this.ec.setOption(e.key,e.value)})},getEventContent:function(n){if(typeof l=="string")return this.wrapContent(l,n);if(typeof l=="object"){let t=n.event.extendedProps.model,e=l[t];return e===void 0?void 0:this.wrapContent(e,n)}},getResourceLabelContent:function(n){if(typeof s=="string")return this.wrapContent(s,n);if(typeof s=="object"){let t=n.event.extendedProps.model,e=s[t];return e===void 0?void 0:this.wrapContent(e,n)}},getMoreLinkContent:function(n){return this.wrapContent(v,n)},wrapContent:function(n,t){let e=document.createElement("div");return e.innerHTML=n,e.setAttribute("x-data",JSON.stringify(t)),e.classList.add("w-full"),e.outerHTML}}}export{M as default};
