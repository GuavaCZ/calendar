// resources/js/calendar.js
function calendar({
  view = "dayGridMonth",
  locale = "en",
  firstDay = 1,
  dayMaxEvents = false,
  eventContent = null,
  eventClickEnabled = false,
  eventDragEnabled = false,
  eventResizeEnabled = false,
  noEventsClickEnabled = false,
  dateClickEnabled = false,
  dateSelectEnabled = false,
  datesSetEnabled = false,
  viewDidMountEnabled = false,
  eventAllUpdatedEnabled = false,
  hasDateClickContextMenu = null,
  hasDateSelectContextMenu = null,
  hasEventClickContextMenu = null,
  hasNoEventsClickContextMenu = null,
  resources = null,
  theme = null,
  options = {},
  eventAssetUrl
}) {
  return {
    init: function() {
      const ec = this.mountCalendar();
      window.addEventListener("calendar--refresh", () => {
        ec.refetchEvents();
      });
      this.$wire.on("calendar--set", (data) => {
        ec.setOption(data.key, data.value);
      });
    },
    mountCalendar: function() {
      return EventCalendar.create(
        this.$el.querySelector("[data-calendar]"),
        this.getSettings()
      );
    },
    getSettings: function() {
      let settings = {
        view,
        locale,
        firstDay,
        dayMaxEvents,
        eventSources: [
          {
            events: (fetchInfo) => this.$wire.getEventsJs({
              ...fetchInfo,
              tzOffset: -(/* @__PURE__ */ new Date()).getTimezoneOffset()
            })
          }
        ],
        resources,
        selectable: dateSelectEnabled,
        eventStartEditable: eventDragEnabled,
        eventDurationEditable: eventResizeEnabled
      };
      if (eventContent !== null) {
        settings.eventContent = (info) => {
          const content = self.getEventContent(info);
          if (content === void 0) {
            return void 0;
          }
          return {
            html: content
          };
        };
      }
      if (dateClickEnabled) {
        settings.dateClick = (info) => {
          const data = {
            date: info.date,
            dateStr: info.dateStr,
            allDay: info.allDay,
            view: info.view,
            resource: info.resource,
            tzOffset: -(/* @__PURE__ */ new Date()).getTimezoneOffset()
          };
          if (hasDateClickContextMenu) {
            this.openContextMenu(info.jsEvent, data, "dateClick");
          } else {
            this.$wire.onDateClickJs(data);
          }
        };
      }
      if (dateSelectEnabled) {
        settings.select = (info) => {
          const data = {
            start: info.start,
            startStr: info.startStr,
            end: info.end,
            endStr: info.endStr,
            allDay: info.allDay,
            view: info.view,
            resource: info.resource,
            tzOffset: -(/* @__PURE__ */ new Date()).getTimezoneOffset()
          };
          if (hasDateSelectContextMenu) {
            this.openContextMenu(info.jsEvent, data, "dateSelect");
          } else {
            this.$wire.onDateSelectJs(data);
          }
        };
      }
      if (datesSetEnabled) {
        settings.datesSet = (info) => {
          this.$wire.onDatesSetJs({
            start: info.start,
            startStr: info.startStr,
            end: info.end,
            endStr: info.endStr,
            view: info.view,
            tzOffset: -(/* @__PURE__ */ new Date()).getTimezoneOffset()
          });
        };
      }
      if (eventClickEnabled) {
        settings.eventClick = (info) => {
          const component = Alpine.$data(info.el);
          component.onClick(info);
        };
      }
      settings.eventResize = async (info) => {
        const durationEditable = info.event.durationEditable;
        let enabled = eventResizeEnabled;
        if (durationEditable !== void 0) {
          enabled = durationEditable;
        }
        if (enabled) {
          await this.$wire.onEventResizeJs({
            event: info.event,
            oldEvent: info.oldEvent,
            endDelta: info.endDelta,
            view: info.view,
            tzOffset: -(/* @__PURE__ */ new Date()).getTimezoneOffset()
          }).then((result) => {
            if (result === false) {
              info.revert();
            }
          });
        }
      };
      settings.eventDrop = async (info) => {
        const startEditable = info.event.startEditable;
        let enabled = eventDragEnabled;
        if (startEditable !== void 0) {
          enabled = startEditable;
        }
        if (enabled) {
          await this.$wire.onEventDropJs({
            event: info.event,
            oldEvent: info.oldEvent,
            oldResource: info.oldResource,
            newResource: info.newResource,
            delta: info.delta,
            view: info.view,
            tzOffset: -(/* @__PURE__ */ new Date()).getTimezoneOffset()
          }).then((result) => {
            if (result === false) {
              info.revert();
            }
          });
        }
      };
      settings.eventDidMount = (info) => {
        info.el.setAttribute("x-load");
        info.el.setAttribute("x-load-src", eventAssetUrl);
        info.el.setAttribute("x-data", `calendarEvent({
                    event: ${JSON.stringify(info.event)},
                    timeText: "${info.timeText}",
                    view: ${JSON.stringify(info.view)},
                    hasContextMenu: ${hasEventClickContextMenu},
                })`);
      };
      if (noEventsClickEnabled) {
        settings.noEventsClick = (info) => {
          const data = {
            view: info.view,
            tzOffset: -(/* @__PURE__ */ new Date()).getTimezoneOffset()
          };
          if (hasNoEventsClickContextMenu) {
            this.openContextMenu(info.jsEvent, data, "noEventsClick");
          } else {
            this.$wire.onNoEventsClickJs(data);
          }
        };
      }
      if (viewDidMountEnabled) {
        settings.viewDidMount = (view2) => {
          this.$wire.onViewDidMount({
            view: view2
          });
        };
      }
      if (eventAllUpdatedEnabled) {
        settings.eventAllUpdated = (info) => {
          this.$wire.onEventAllUpdatedJs({
            view: info.view,
            tzOffset: -(/* @__PURE__ */ new Date()).getTimezoneOffset()
          });
        };
      }
      if (theme) {
        settings.theme = function(defaultTheme) {
          return {
            ...defaultTheme,
            ...theme
          };
        };
      }
      return {
        ...settings,
        ...options
      };
    },
    getEventContent: function(info) {
      if (typeof eventContent === "string") {
        return this.wrapContent(eventContent, info);
      }
      if (typeof eventContent === "object") {
        const model = info.event.extendedProps.model;
        const content = eventContent[model];
        if (content === void 0) {
          return void 0;
        }
        return this.wrapContent(content, info);
      }
      return void 0;
    },
    wrapContent: function(content, info) {
      let container = document.createElement("div");
      container.innerHTML = content;
      container.setAttribute("x-data", JSON.stringify(info));
      container.classList.add("w-full");
      return container.outerHTML;
    },
    openContextMenu: function(jsEvent, data, context) {
      const element = document.querySelector("[calendar-context-menu]");
      const contextMenu = Alpine.$data(element);
      contextMenu.loadActions(context, data);
      contextMenu.openMenu(jsEvent);
    }
  };
}
export {
  calendar as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vcmVzb3VyY2VzL2pzL2NhbGVuZGFyLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYWxlbmRhcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldyA9ICdkYXlHcmlkTW9udGgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZSA9ICdlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3REYXkgPSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheU1heEV2ZW50cyA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Q29udGVudCA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDbGlja0VuYWJsZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudERyYWdFbmFibGVkID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRSZXNpemVFbmFibGVkID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9FdmVudHNDbGlja0VuYWJsZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlQ2xpY2tFbmFibGVkID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVNlbGVjdEVuYWJsZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlc1NldEVuYWJsZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3RGlkTW91bnRFbmFibGVkID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBbGxVcGRhdGVkRW5hYmxlZCA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0RhdGVDbGlja0NvbnRleHRNZW51ID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNEYXRlU2VsZWN0Q29udGV4dE1lbnUgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0V2ZW50Q2xpY2tDb250ZXh0TWVudSA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzTm9FdmVudHNDbGlja0NvbnRleHRNZW51ID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXMgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRBc3NldFVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbikge1xuICAgIHJldHVybiB7XG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgZWMgPSB0aGlzLm1vdW50Q2FsZW5kYXIoKVxuXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2FsZW5kYXItLXJlZnJlc2gnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZWMucmVmZXRjaEV2ZW50cygpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLiR3aXJlLm9uKCdjYWxlbmRhci0tc2V0JywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBlYy5zZXRPcHRpb24oZGF0YS5rZXksIGRhdGEudmFsdWUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuXG4gICAgICAgIG1vdW50Q2FsZW5kYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBFdmVudENhbGVuZGFyLmNyZWF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jYWxlbmRhcl0nKSxcbiAgICAgICAgICAgICAgICB0aGlzLmdldFNldHRpbmdzKCksXG4gICAgICAgICAgICApXG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0U2V0dGluZ3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBzZXR0aW5ncyA9IHtcbiAgICAgICAgICAgICAgICB2aWV3OiB2aWV3LFxuICAgICAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgICAgICAgIGZpcnN0RGF5OiBmaXJzdERheSxcbiAgICAgICAgICAgICAgICBkYXlNYXhFdmVudHM6IGRheU1heEV2ZW50cyxcbiAgICAgICAgICAgICAgICBldmVudFNvdXJjZXM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiAoZmV0Y2hJbmZvKSA9PiB0aGlzLiR3aXJlLmdldEV2ZW50c0pzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5mZXRjaEluZm8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHpPZmZzZXQ6IC1uZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZXM6IHJlc291cmNlcyxcbiAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBkYXRlU2VsZWN0RW5hYmxlZCxcbiAgICAgICAgICAgICAgICBldmVudFN0YXJ0RWRpdGFibGU6IGV2ZW50RHJhZ0VuYWJsZWQsXG4gICAgICAgICAgICAgICAgZXZlbnREdXJhdGlvbkVkaXRhYmxlOiBldmVudFJlc2l6ZUVuYWJsZWQsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudENvbnRlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5ldmVudENvbnRlbnQgPSAoaW5mbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gc2VsZi5nZXRFdmVudENvbnRlbnQoaW5mbylcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGVDbGlja0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5kYXRlQ2xpY2sgPSAoaW5mbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogaW5mby5kYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVN0cjogaW5mby5kYXRlU3RyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5OiBpbmZvLmFsbERheSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IGluZm8udmlldyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiBpbmZvLnJlc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHpPZmZzZXQ6IC1uZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KClcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNEYXRlQ2xpY2tDb250ZXh0TWVudSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuQ29udGV4dE1lbnUoaW5mby5qc0V2ZW50LCBkYXRhLCAnZGF0ZUNsaWNrJylcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHdpcmUub25EYXRlQ2xpY2tKcyhkYXRhKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0ZVNlbGVjdEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZWxlY3QgPSAoaW5mbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGluZm8uc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFN0cjogaW5mby5zdGFydFN0cixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaW5mby5lbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRTdHI6IGluZm8uZW5kU3RyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5OiBpbmZvLmFsbERheSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IGluZm8udmlldyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiBpbmZvLnJlc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHpPZmZzZXQ6IC1uZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KClcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNEYXRlU2VsZWN0Q29udGV4dE1lbnUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkNvbnRleHRNZW51KGluZm8uanNFdmVudCwgZGF0YSwgJ2RhdGVTZWxlY3QnKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kd2lyZS5vbkRhdGVTZWxlY3RKcyhkYXRhKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0ZXNTZXRFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuZGF0ZXNTZXQgPSAoaW5mbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiR3aXJlLm9uRGF0ZXNTZXRKcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogaW5mby5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0U3RyOiBpbmZvLnN0YXJ0U3RyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBpbmZvLmVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFN0cjogaW5mby5lbmRTdHIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3OiBpbmZvLnZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ek9mZnNldDogLW5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50Q2xpY2tFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuZXZlbnRDbGljayA9IChpbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IEFscGluZS4kZGF0YShpbmZvLmVsKVxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQub25DbGljayhpbmZvKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0dGluZ3MuZXZlbnRSZXNpemUgPSBhc3luYyAoaW5mbykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uRWRpdGFibGUgPSBpbmZvLmV2ZW50LmR1cmF0aW9uRWRpdGFibGVcbiAgICAgICAgICAgICAgICBsZXQgZW5hYmxlZCA9IGV2ZW50UmVzaXplRW5hYmxlZFxuXG4gICAgICAgICAgICAgICAgaWYgKGR1cmF0aW9uRWRpdGFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkID0gZHVyYXRpb25FZGl0YWJsZVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuJHdpcmUub25FdmVudFJlc2l6ZUpzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBpbmZvLmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkRXZlbnQ6IGluZm8ub2xkRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmREZWx0YTogaW5mby5lbmREZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IGluZm8udmlldyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR6T2Zmc2V0OiAtbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnJldmVydCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2V0dGluZ3MuZXZlbnREcm9wID0gYXN5bmMgKGluZm8pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydEVkaXRhYmxlID0gaW5mby5ldmVudC5zdGFydEVkaXRhYmxlXG4gICAgICAgICAgICAgICAgbGV0IGVuYWJsZWQgPSBldmVudERyYWdFbmFibGVkXG5cbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRFZGl0YWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQgPSBzdGFydEVkaXRhYmxlXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4kd2lyZS5vbkV2ZW50RHJvcEpzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBpbmZvLmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkRXZlbnQ6IGluZm8ub2xkRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRSZXNvdXJjZTogaW5mby5vbGRSZXNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jlc291cmNlOiBpbmZvLm5ld1Jlc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGE6IGluZm8uZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3OiBpbmZvLnZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ek9mZnNldDogLW5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKVxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5yZXZlcnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0dGluZ3MuZXZlbnREaWRNb3VudCA9IChpbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5mby5lbC5zZXRBdHRyaWJ1dGUoJ3gtbG9hZCcpXG4gICAgICAgICAgICAgICAgaW5mby5lbC5zZXRBdHRyaWJ1dGUoJ3gtbG9hZC1zcmMnLCBldmVudEFzc2V0VXJsKVxuICAgICAgICAgICAgICAgIGluZm8uZWwuc2V0QXR0cmlidXRlKCd4LWRhdGEnLCBgY2FsZW5kYXJFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KGluZm8uZXZlbnQpfSxcbiAgICAgICAgICAgICAgICAgICAgdGltZVRleHQ6IFwiJHtpbmZvLnRpbWVUZXh0fVwiLFxuICAgICAgICAgICAgICAgICAgICB2aWV3OiAke0pTT04uc3RyaW5naWZ5KGluZm8udmlldyl9LFxuICAgICAgICAgICAgICAgICAgICBoYXNDb250ZXh0TWVudTogJHtoYXNFdmVudENsaWNrQ29udGV4dE1lbnV9LFxuICAgICAgICAgICAgICAgIH0pYClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vRXZlbnRzQ2xpY2tFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Mubm9FdmVudHNDbGljayA9IChpbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3OiBpbmZvLnZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ek9mZnNldDogLW5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc05vRXZlbnRzQ2xpY2tDb250ZXh0TWVudSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuQ29udGV4dE1lbnUoaW5mby5qc0V2ZW50LCBkYXRhLCAnbm9FdmVudHNDbGljaycpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR3aXJlLm9uTm9FdmVudHNDbGlja0pzKGRhdGEpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2aWV3RGlkTW91bnRFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Mudmlld0RpZE1vdW50ID0gKHZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kd2lyZS5vblZpZXdEaWRNb3VudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3OiB2aWV3LFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50QWxsVXBkYXRlZEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5ldmVudEFsbFVwZGF0ZWQgPSAoaW5mbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiR3aXJlLm9uRXZlbnRBbGxVcGRhdGVkSnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldzogaW5mby52aWV3LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHpPZmZzZXQ6IC1uZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGVtZSkge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzLnRoZW1lID0gZnVuY3Rpb24gKGRlZmF1bHRUaGVtZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGVmYXVsdFRoZW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhlbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG5cbiAgICAgICAgZ2V0RXZlbnRDb250ZW50OiBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudENvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JhcENvbnRlbnQoZXZlbnRDb250ZW50LCBpbmZvKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50Q29udGVudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbCA9IGluZm8uZXZlbnQuZXh0ZW5kZWRQcm9wcy5tb2RlbFxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBldmVudENvbnRlbnRbbW9kZWxdXG5cbiAgICAgICAgICAgICAgICBpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cmFwQ29udGVudChjb250ZW50LCBpbmZvKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgIH0sXG5cbiAgICAgICAgd3JhcENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50LCBpbmZvKSB7XG4gICAgICAgICAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBjb250ZW50XG5cbiAgICAgICAgICAgIC8vIEFkZCBhbHBpbmUgZGF0YSBhbmQgY2xhc3Nlc1xuICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgneC1kYXRhJywgSlNPTi5zdHJpbmdpZnkoaW5mbykpXG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgndy1mdWxsJylcblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBtb2RpZmllZCBIVE1MXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLm91dGVySFRNTFxuICAgICAgICB9LFxuXG4gICAgICAgIG9wZW5Db250ZXh0TWVudTogZnVuY3Rpb24gKGpzRXZlbnQsIGRhdGEsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbY2FsZW5kYXItY29udGV4dC1tZW51XScpXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0TWVudSA9IEFscGluZS4kZGF0YShlbGVtZW50KVxuICAgICAgICAgICAgY29udGV4dE1lbnUubG9hZEFjdGlvbnMoY29udGV4dCwgZGF0YSlcbiAgICAgICAgICAgIGNvbnRleHRNZW51Lm9wZW5NZW51KGpzRXZlbnQpXG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQWUsU0FBUixTQUEwQjtBQUFBLEVBQ0ksT0FBTztBQUFBLEVBQ1AsU0FBUztBQUFBLEVBQ1QsV0FBVztBQUFBLEVBQ1gsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUFBLEVBQ2Ysb0JBQW9CO0FBQUEsRUFDcEIsbUJBQW1CO0FBQUEsRUFDbkIscUJBQXFCO0FBQUEsRUFDckIsdUJBQXVCO0FBQUEsRUFDdkIsbUJBQW1CO0FBQUEsRUFDbkIsb0JBQW9CO0FBQUEsRUFDcEIs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
